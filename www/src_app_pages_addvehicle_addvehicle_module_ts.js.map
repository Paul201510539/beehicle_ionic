{"version":3,"sources":["./src/app/pages/addvehicle/addvehicle-routing.module.ts","./src/app/pages/addvehicle/addvehicle.module.ts","./src/app/pages/addvehicle/addvehicle.page.ts","./src/app/pages/addvehicle/addvehicle.page.scss","./src/app/pages/addvehicle/addvehicle.page.html"],"names":[],"mappings":"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","file":"src_app_pages_addvehicle_addvehicle_module_ts.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { AddvehiclePage } from './addvehicle.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: AddvehiclePage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class AddvehiclePageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { AddvehiclePageRoutingModule } from './addvehicle-routing.module';\n\nimport { AddvehiclePage } from './addvehicle.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    IonicModule,\n    AddvehiclePageRoutingModule\n  ],\n  declarations: [AddvehiclePage]\n})\nexport class AddvehiclePageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { FormControl, FormGroup, Validators, FormBuilder} from '@angular/forms';\nimport { Storage } from '@ionic/storage-angular';\nimport { LoadingController, AlertController } from '@ionic/angular';\nimport { environment } from '../../../../src/environments/environment';  \nimport { Router } from '@angular/router';\nimport axios from 'axios';\nimport { FileService } from 'src/app/services/file.service';\n\n@Component({\n  selector: 'app-addvehicle',\n  templateUrl: './addvehicle.page.html',\n  styleUrls: ['./addvehicle.page.scss'],\n})\nexport class AddvehiclePage implements OnInit {\n  form: FormGroup;\n  public coding: string;\n  vehicle_image_ORCR: string;\n  vehicle_image_car: string;\n\n  constructor(\n    public formBuilder: FormBuilder, \n    private storage: Storage, \n    public loadingController: LoadingController, \n    public alertController: AlertController,\n    public fileService: FileService, \n    private router: Router\n    ) {\n    this.initForm();\n  }\n\n  ngOnInit() {\n    console.log('test');\n  }\n\n  initForm() {\n    this.form = new FormGroup({\n      brand: new FormControl('', { validators: [Validators.required] }),\n      plate_number: new FormControl('', { validators: [Validators.required] }),\n      vehicle_type: new FormControl('', { validators: [Validators.required] }),\n      date_purchased: new FormControl('', { validators: [Validators.required] }),\n      chasis: new FormControl('', { validators: [Validators.required] }),\n      coding: new FormControl('', { validators: [Validators.required] }),\n      notes: new FormControl('', { validators: [Validators.required] }),\n      vehicle_image_orcr: new FormControl(''),\n      vehicle_image_car: new FormControl(''),\n    });\n  }\n\n  async submitForm(){\n    const loading = await this.loadingController.create({message: 'Please wait'})\n    await loading.present()\n\n    const token = await this.storage.get('access_token');\n    const config = {\n      headers: {\n        'Access-Control-Allow-Origin': '*',\n        'Authorization': `Bearer ${token}`\n      },\n    };\n    const URL = environment.API_HOST + '/vehicles/create';\n    console.log(environment, environment.API_HOST)\n    this.form.patchValue({\n      vehicle_image_orcr: this.vehicle_image_ORCR,\n      vehicle_image_car: this.vehicle_image_car\n    })\n    \n    try{\n      const sData = await this.storage.get(\"data\");\n  \n      console.log(this.form.value);\n      const res = await axios.post(URL, this.form.value, config);\n      // const vehicles = await this.storage.get(\"vehicles\")\n      \n      // sData.vehicles.push(res.data.data.vehicle);\n      await this.storage.set(\"data\", res.data.data)\n      // console.log('after', sData)\n      await loading.dismiss();\n      if (res.data.code==200){\n        // await this.storage.set('access_token',res.data.data.access_token)\n        this.router.navigate([\"/home\"])\n        const alert = await this.alertController.create({\n          cssClass: 'Success-alert',\n          header: 'Success',\n          message: 'Vehicle information created',\n          buttons: ['OK']\n        });\n      }\n    }catch(err){\n      await loading.dismiss();\n      const alert = await this.alertController.create({\n        header: 'Alert',\n        message: 'Invalid Fields',\n        buttons: ['OK']\n      })\n      await alert.present();\n\n    }\n  }\n\n  getCoding(){\n    return 'Monday';\n  }\n\n  async OraddPhotoToGallery() {\n    const base64 = await this.fileService.addNewToGallery();\n    this.vehicle_image_ORCR = `data:image/jpeg;base64, ${base64}`;\n  }\n\n  async CaraddPhotoToGallery() {\n    const base64 = await this.fileService.addNewToGallery();\n    this.vehicle_image_car = `data:image/jpeg;base64, ${base64}`;\n  }\n\n}","export default \".md .centered-p {\\n  text-align: center;\\n  margin-left: -25%;\\n}\\n\\nion-item ion-label {\\n  color: #949494;\\n}\\n\\n.photoPicker ion-label {\\n  font-size: 14px;\\n  font-style: italic;\\n  color: gray;\\n}\\n\\n.photoPicker .button {\\n  margin-top: 10%;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFkZHZlaGljbGUucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksa0JBQUE7RUFDQSxpQkFBQTtBQUNKOztBQUdJO0VBQ0UsY0FBQTtBQUFOOztBQUtFO0VBQ0UsZUFBQTtFQUNBLGtCQUFBO0VBQ0EsV0FBQTtBQUZKOztBQUlFO0VBQ0UsZUFBQTtBQUZKIiwiZmlsZSI6ImFkZHZlaGljbGUucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLm1kIC5jZW50ZXJlZC1wIHtcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgbWFyZ2luLWxlZnQ6IC0yNSVcbiAgfVxuXG4gIGlvbi1pdGVte1xuICAgIGlvbi1sYWJlbHtcbiAgICAgIGNvbG9yOiAjOTQ5NDk0O1xuICAgIH1cbiAgfVxuXG4ucGhvdG9QaWNrZXJ7XG4gIGlvbi1sYWJlbHtcbiAgICBmb250LXNpemU6IDE0cHg7XG4gICAgZm9udC1zdHlsZTogaXRhbGljO1xuICAgIGNvbG9yOiBncmF5O1xuICB9XG4gIC5idXR0b257XG4gICAgbWFyZ2luLXRvcDogMTAlO1xuICB9XG59Il19 */\";","export default \"<ion-header>\\n  <ion-toolbar color =\\\"primary\\\">\\n    <ion-title class=\\\"ion-text-center\\\">\\n      <p class=\\\"centered-p\\\">Add Vehicle</p>\\n    </ion-title>\\n    \\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button defaultHref=\\\"/home\\\"name=\\\"arrow-back-outline\\\" ></ion-back-button>\\n    </ion-buttons>\\n    \\n  </ion-toolbar>\\n</ion-header>\\n\\n\\n\\n<ion-content>\\n  <!-- <form [formGroup]=\\\"form\\\">\\n    \\n<ion-item>\\n  <ion-input placeholder=\\\"brand name\\\" type=\\\"text\\\"></ion-input>\\n</ion-item>\\n\\n\\n<ion-item>\\n  <ion-label position=\\\"floating\\\">Plate Number</ion-label>\\n  <ion-input ></ion-input>\\n</ion-item>\\n\\n\\n<ion-item>\\n<p>\\n  <ion-label>Vehicle Type</ion-label>\\n</p>\\n<ion-select value=\\\"4\\\" slot=\\\"end\\\" >\\n  <ion-select-option value=\\\"01\\\">two wheels</ion-select-option>\\n  <ion-select-option value=\\\"02\\\">four wheels</ion-select-option>\\n  <ion-select-option value=\\\"03\\\">three wheels</ion-select-option>\\n  \\n </ion-select>\\n</ion-item>\\n\\n\\n\\n<ion-item >\\n  <ion-label >Vehicle Year</ion-label>\\n  <ion-datetime slot=\\\"end\\\" value=\\\"2019-10-01T15:43:40.394Z\\\" display-timezone=\\\"utc\\\"></ion-datetime>\\n</ion-item>\\n\\n<ion-item>\\n  <ion-label position=\\\"floating\\\">Chasis No.</ion-label>\\n  <ion-input ></ion-input>\\n</ion-item>\\n\\n\\n\\n<ion-item>\\n \\n  <p>\\n    <ion-label >Coding Schedule</ion-label>\\n  </p>\\n  <ion-select value=\\\"4\\\" slot=\\\"end\\\" >\\n    <ion-select-option value=\\\"01\\\">monday</ion-select-option>\\n    <ion-select-option value=\\\"02\\\">tuesday</ion-select-option>\\n    <ion-select-option value=\\\"03\\\">wednesday</ion-select-option>\\n    <ion-select-option value=\\\"04\\\">thursday</ion-select-option>\\n    <ion-select-option value=\\\"04\\\">friday</ion-select-option>\\n    <ion-select-option value=\\\"04\\\">saturday</ion-select-option>\\n    <ion-select-option value=\\\"04\\\">sunday</ion-select-option>\\n   </ion-select>\\n  </ion-item>\\n\\n \\n\\n  <ion-item>\\n    <ion-label>Notes:</ion-label>\\n    <ion-textarea rows=\\\"6\\\" cols=\\\"20\\\" placeholder=\\\"Enter any notes here...\\\" ></ion-textarea>\\n  </ion-item>\\n\\n  <div >\\n    <p class=\\\"sukat\\\">Upload image of receipt/warranty</p>\\n    <ion-button color=\\\"warning\\\"><ion-label color=\\\"light\\\">Pick File</ion-label></ion-button>\\n    <div>\\n      {{returnpath}}\\n    </div>\\n  </div>\\n\\n</form> -->\\n\\n\\n<form [formGroup]=\\\"form\\\" (ngSubmit)=\\\"submitForm()\\\" novalidate>\\n\\n  <ion-item >\\n    <ion-label position=\\\"floating\\\">Vehicle Brand</ion-label>\\n    <ion-input formControlName=\\\"brand\\\" type=\\\"text\\\" required></ion-input>\\n  </ion-item>\\n\\n  <ion-item >\\n    <ion-label position=\\\"floating\\\">Plate Number</ion-label>\\n    <ion-input formControlName=\\\"plate_number\\\" type=\\\"text\\\" required></ion-input>\\n  </ion-item> \\n\\n  <ion-item >\\n    <ion-label position=\\\"floating\\\">Vehicle Type</ion-label>\\n    <ion-select  formControlName=\\\"vehicle_type\\\">\\n      <ion-select-option value=\\\"4 wheels\\\">4 wheels</ion-select-option>\\n      <ion-select-option value=\\\"3 wheels\\\">3 wheels</ion-select-option>\\n      <ion-select-option value=\\\"2 wheels\\\">2 wheels</ion-select-option>\\n    </ion-select>\\n  </ion-item>\\n\\n  <ion-item>Date of purchased</ion-item>\\n  <ion-item>\\n\\n  <ion-datetime formControlName=\\\"date_purchased\\\" presentation=\\\"date\\\" [(ngModel)]=\\\"date\\\">Date Purchased</ion-datetime>\\n  </ion-item>\\n\\n  <ion-item >\\n    <ion-label position=\\\"floating\\\">Chasis number</ion-label>\\n    <ion-input formControlName=\\\"chasis\\\" type=\\\"text\\\" required></ion-input>\\n  </ion-item>\\n\\n  <!-- <ion-item >\\n    <ion-label position=\\\"floating\\\">Coding</ion-label>\\n    <ion-input formControlName=\\\"coding\\\" type=\\\"text\\\" required [(ngModel)]='coding' value=\\\"{{coding}}\\\"></ion-input>\\n  </ion-item> -->\\n\\n  <ion-item >\\n    <ion-label>Coding</ion-label>\\n    <ion-select  formControlName=\\\"coding\\\">\\n      <ion-select-option value=\\\"Monday\\\">Monday</ion-select-option>\\n      <ion-select-option value=\\\"Tuesday\\\">Tuesday</ion-select-option>\\n      <ion-select-option value=\\\"Wednesday\\\">Wednesday</ion-select-option>\\n      <ion-select-option value=\\\"Thursday\\\">Thursday</ion-select-option>\\n      <ion-select-option value=\\\"Friday\\\">Friday</ion-select-option>\\n      <ion-select-option value=\\\"Saturday\\\">Saturday</ion-select-option>\\n      <ion-select-option value=\\\"Sunday\\\">Sunday</ion-select-option>\\n    </ion-select>\\n  </ion-item>\\n\\n  <!-- <ion-item >\\n    <ion-label>coding</ion-label>\\n    <ion-select multiple=\\\"true\\\" [value]=\\\"['monday', 'tuesday', 'wednesday', 'thursday', 'friday', 'saturday', 'sunday']\\\" formControlName=\\\"vehicle_coding\\\">\\n      <ion-select-option value=\\\"Monday\\\">monday</ion-select-option>\\n      <ion-select-option value=\\\"tuesday\\\">tuesday</ion-select-option>\\n      <ion-select-option value=\\\"wednesday\\\">wednesday</ion-select-option>\\n      <ion-select-option value=\\\"thursday\\\">thursday</ion-select-option>\\n      <ion-select-option value=\\\"friday\\\">friday</ion-select-option>\\n      <ion-select-option value=\\\"saturday\\\">saturday</ion-select-option>\\n      <ion-select-option value=\\\"sunday\\\">sunday</ion-select-option>\\n    </ion-select>\\n  </ion-item> -->\\n  \\n  <ion-item>\\n    <ion-img [src]=\\\"vehicle_image_ORCR\\\"></ion-img>\\n  </ion-item>\\n    \\n  <ion-item class=\\\"photoPicker\\\">\\n    <ion-label position=\\\"floating\\\">*upload a photo of your OR/CR</ion-label>\\n    <ion-button (click)=\\\"OraddPhotoToGallery()\\\" class=\\\"button\\\">Select Images</ion-button>\\n  </ion-item>\\n\\n  <ion-item>\\n    <ion-img [src]=\\\"vehicle_image_car\\\"></ion-img>\\n  </ion-item>\\n\\n  <ion-item class=\\\"photoPicker\\\">\\n    <ion-label position=\\\"floating\\\">*upload a photo of your Car</ion-label>\\n    <ion-button (click)=\\\"CaraddPhotoToGallery()\\\" class=\\\"button\\\">Select Images</ion-button>\\n  </ion-item>\\n\\n  <ion-item >\\n    <ion-label>Notes</ion-label>\\n    <ion-textarea rows=\\\"6\\\" cols=\\\"20\\\" placeholder=\\\"Enter any notes here...\\\" formControlName=\\\"notes\\\"></ion-textarea>\\n  </ion-item>\\n  \\n\\n  <ion-button  type=\\\"submit\\\" color=\\\"warning\\\" expand=\\\"block\\\"> <ion-label color=\\\"light\\\">Submit</ion-label>\\n    <ion-icon slot=\\\"end\\\" name=\\\"add\\\"></ion-icon>\\n  </ion-button>\\n</form>\\n\\n</ion-content>\\n\\n\\n\";"],"sourceRoot":"webpack:///"}
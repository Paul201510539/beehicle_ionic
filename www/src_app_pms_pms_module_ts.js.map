{"version":3,"sources":["./src/app/pms/pms-routing.module.ts","./src/app/pms/pms.module.ts","./src/app/pms/pms.page.ts","./src/app/pms/pms.page.scss","./src/app/pms/pms.page.html"],"names":[],"mappings":"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","file":"src_app_pms_pms_module_ts.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { PmsPage } from './pms.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: PmsPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class PmsPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { PmsPageRoutingModule } from './pms-routing.module';\r\n\r\nimport { PmsPage } from './pms.page';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    PmsPageRoutingModule\r\n  ],\r\n  declarations: [PmsPage]\r\n})\r\nexport class PmsPageModule {}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { environment } from '../../../src/environments/environment';  \r\nimport { LoadingController, AlertController , NavController} from '@ionic/angular';\r\nimport { Storage } from '@ionic/storage-angular';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport axios from 'axios';\r\n@Component({\r\n  selector: 'app-pms',\r\n  templateUrl: './pms.page.html',\r\n  styleUrls: ['./pms.page.scss'],\r\n})\r\nexport class PmsPage implements OnInit {\r\n  pms_form: Array<any>\r\n  pms_form_old: Array<any>\r\n  pms_kms: String;\r\n  pms: any;\r\n  fields: Array<any>;\r\n  vehicle_id: any;\r\n  mode : String;\r\n  pms_data: any;\r\n  constructor(\r\n    private route: ActivatedRoute, \r\n    private storage: Storage, \r\n    public loadingController: LoadingController, \r\n    public alertController: AlertController,\r\n    private navCtrl: NavController,\r\n    private router: Router,\r\n  ) {\r\n\r\n  }\r\n  \r\n  async ngOnInit() {\r\n    const sData = await this.storage.get('data');\r\n    this.vehicle_id = (this.route.snapshot.paramMap.get('vehicle_id'));\r\n\r\n    this.pms_kms = this.route.snapshot.paramMap.get('odometer').toString();\r\n    this.pms_form_old = [\r\n      {\r\n        id: 1,\r\n        label:'1,000km PMS',\r\n        odometer:'1000',\r\n        fields: [\r\n          {\r\n            code: 'break_system',\r\n            label: 'Break System',\r\n            value: false\r\n          },\r\n          {\r\n            code: 'engine',\r\n            label: 'Engine',\r\n            value: false\r\n          },\r\n          {\r\n            code: 'oil',\r\n            label: 'Oil',\r\n            value: false\r\n          },\r\n          {\r\n            code: 'filters',\r\n            label: 'Filters',\r\n            value: false\r\n          },\r\n          {\r\n            code: 'washer_fluid',\r\n            label: 'Washer Fluid',\r\n            value: false\r\n          },\r\n          {\r\n            code: 'engine_coolant',\r\n            label: 'Engine Coolant',\r\n            value: false\r\n          },\r\n          {\r\n            code :'notes',\r\n            label: 'Notes',\r\n            value: false\r\n          },\r\n          {\r\n            code: 'date',\r\n            label: 'Date',\r\n            value: new Date().toISOString(),\r\n          }\r\n        ]\r\n      },\r\n      {\r\n        id: 2,\r\n        label: '5,000km PMS',\r\n        odometer: '5000',\r\n        fields : [\r\n          {\r\n            code: 'change_oil',\r\n            label: 'Change Oil',\r\n            value: false\r\n          },\r\n          {\r\n            code: 'change_oil_filter',\r\n            label: 'Change Oil Filter',\r\n            value: false\r\n          },\r\n          {\r\n            code: 'change_oil_leaks',\r\n            label: 'Change Oil Leaks',\r\n            value: false\r\n          },\r\n          {\r\n            code: 'date',\r\n            label:'Date',\r\n            value: new Date().toISOString()\r\n          }\r\n        ]\r\n      },\r\n      {\r\n        id: 3,\r\n        label: '10,000km PMS',\r\n        odometer: '10000',\r\n        fields : [\r\n          {\r\n            code: 'mandatory_oil_change',\r\n            label: 'Mandatory Change Oil',\r\n            value: false\r\n          },\r\n          {\r\n            code: 'brake_pads',\r\n            label: 'Brake Pads',\r\n            value: false\r\n          },\r\n          {\r\n            code: 'axle_joints',\r\n            label: 'Axle Joints',\r\n            value: false\r\n          },\r\n          {\r\n            code: 'parking_break',\r\n            label: 'Parking Break',\r\n            value: false\r\n          },\r\n          {\r\n            code: 'clutch',\r\n            label: 'Clutch',\r\n            value: false\r\n          },\r\n          {\r\n            code: 'steering',\r\n            label: 'Steering',\r\n            value: false\r\n          },\r\n          {\r\n            code: 'suspension_system',\r\n            label: 'Suspension System',\r\n            value: false\r\n          },\r\n          {\r\n            code: 'date',\r\n            label:'Date',\r\n            value:new Date().toISOString()\r\n          }\r\n        ]\r\n      }\r\n    ];\r\n    this.pms_form = [\r\n      {\r\n        id: 1,\r\n        label:'1,000km PMS',\r\n        odometer:'1000',\r\n        fields: [\r\n          {\r\n            code: 'break_system',\r\n            label: 'Break System',\r\n            value: false\r\n          },\r\n          {\r\n            code: 'engine',\r\n            label: 'Engine',\r\n            value: false\r\n          },\r\n          {\r\n            code: 'oil',\r\n            label: 'Oil',\r\n            value: false\r\n          },\r\n          {\r\n            code: 'filters',\r\n            label: 'Filters',\r\n            value: false\r\n          },\r\n          {\r\n            code: 'washer_fluid',\r\n            label: 'Washer Fluid',\r\n            value: false\r\n          },\r\n          {\r\n            code: 'engine_coolant',\r\n            label: 'Engine Coolant',\r\n            value: false\r\n          },\r\n          {\r\n            code: 'cost',\r\n            label: 'Cost',\r\n            value: false\r\n          },\r\n          // {\r\n          //   code :'notes',\r\n          //   label: 'Notes',\r\n          //   value: false\r\n          // },\r\n          {\r\n            code: 'date',\r\n            label: 'Date',\r\n            value: new Date().toISOString(),\r\n          }\r\n        ]\r\n      },\r\n      {\r\n        id: 2,\r\n        label: '5,000km PMS',\r\n        odometer: '5000',\r\n        fields : [\r\n          {\r\n            code: 'change_oil',\r\n            label: 'Change Oil',\r\n            value: false\r\n          },\r\n          {\r\n            code: 'change_oil_filter',\r\n            label: 'Change Oil Filter',\r\n            value: false\r\n          },\r\n          {\r\n            code: 'change_oil_leaks',\r\n            label: 'Change Oil Leaks',\r\n            value: false\r\n          },\r\n          {\r\n            code: 'date',\r\n            label:'Date',\r\n            value: new Date().toISOString()\r\n          }\r\n        ]\r\n      },\r\n      {\r\n        id: 3,\r\n        label: '10,000km PMS',\r\n        odometer: '10000',\r\n        fields : [\r\n          {\r\n            code: 'mandatory_oil_change',\r\n            label: 'Mandatory Change Oil',\r\n            value: false\r\n          },\r\n          {\r\n            code: 'brake_pads',\r\n            label: 'Brake Pads',\r\n            value: false\r\n          },\r\n          {\r\n            code: 'axle_joints',\r\n            label: 'Axle Joints',\r\n            value: false\r\n          },\r\n          {\r\n            code: 'parking_break',\r\n            label: 'Parking Break',\r\n            value: false\r\n          },\r\n          {\r\n            code: 'clutch',\r\n            label: 'Clutch',\r\n            value: false\r\n          },\r\n          {\r\n            code: 'steering',\r\n            label: 'Steering',\r\n            value: false\r\n          },\r\n          {\r\n            code: 'suspension_system',\r\n            label: 'Suspension System',\r\n            value: false\r\n          },\r\n          {\r\n            code: 'date',\r\n            label:'Date',\r\n            value:new Date().toISOString()\r\n          }\r\n        ]\r\n      }\r\n    ];\r\n    this.pms = this.pms_form.find(x => x.odometer == this.pms_kms);\r\n    \r\n    // return;\r\n    this.fields = this.pms.fields;\r\n\r\n    const pms_data = sData.vehicles.find(x=>x.id == this.vehicle_id).pms.find(x=>x.pms_kms == this.pms_kms);\r\n    this.mode = pms_data === undefined ? 'create' : 'update';\r\n    if(this.mode=='update'){\r\n      this.pms_data = JSON.parse(pms_data.data);\r\n      this.loadFields();\r\n    }\r\n    \r\n    \r\n  }\r\n\r\n  loadFields(){\r\n   Object.keys(this.pms_data).map((key)=>{\r\n     if(key=='date' || key=='cost' || key=='pms' || key =='vehicle_id'){\r\n\r\n     }else{\r\n      const field = this.fields.find(x=>x.code == key)\r\n      // console.log(key, '---', value);\r\n      // const obj_value = field.value > 0 ? true : false;\r\n\r\n      if(field !== undefined){\r\n        this.fields.find(x=>x.code == key).value = this.pms_data[key];\r\n      }\r\n    }\r\n   })\r\n\r\n  //  console.log('fields are',this.fields);\r\n  }\r\n\r\n  show(field){\r\n    if(this.fields){\r\n      return this.fields.findIndex(x=>x.code == field) < 0 ? false : true;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  submit(){\r\n   if(this.mode == 'create'){\r\n     this.create();\r\n   }else{\r\n     this.update();\r\n   }\r\n  }\r\n\r\n  async create(){\r\n    const sData = await this.storage.get('data');\r\n    const loading = await this.loadingController.create({message: 'Please wait'})\r\n    await loading.present();\r\n\r\n    const token = await this.storage.get('access_token');\r\n    const config = {\r\n      headers: {\r\n        'Access-Control-Allow-Origin': '*',\r\n        'Authorization': `Bearer ${token}`\r\n      },\r\n    };\r\n    const URL = environment.API_HOST;\r\n    // let fields = [];\r\n    const form = {}\r\n    this.fields.map(x=> {\r\n      form[x.code] = x.value\r\n    })    \r\n    form['vehicle_id'] = this.vehicle_id;\r\n    form['pms'] = this.pms_kms;\r\n    // fields['vehicle_id'] = this.vehicle_id\r\n    // fields['pms'] = this.pms_kms;\r\n\r\n    try{\r\n      const res = await axios.post(`${URL}/pms  `, form, config)\r\n      await loading.dismiss();\r\n\r\n      const alert = await this.alertController.create({\r\n        header: 'Success',\r\n        message: res.data.message,\r\n        buttons: ['OK'] \r\n      })\r\n      await this.storage.set('data', res.data.data)\r\n      await alert.present();\r\n\r\n      this.navCtrl.back();\r\n    }catch(e){\r\n      console.log(e)\r\n      await loading.dismiss();\r\n\r\n\r\n      const alert = await this.alertController.create({\r\n        header: 'Alert',\r\n        message: e.response.data.message,\r\n        buttons: ['OK'] \r\n      })\r\n      await alert.present();\r\n\r\n    }\r\n  }\r\n  async update(){\r\n    \r\n    const sData = await this.storage.get('data');\r\n    const loading = await this.loadingController.create({message: 'Please wait'})\r\n    await loading.present();\r\n\r\n    const token = await this.storage.get('access_token');\r\n    const config = {\r\n      headers: {\r\n        'Access-Control-Allow-Origin': '*',\r\n        'Authorization': `Bearer ${token}`\r\n      },\r\n    };\r\n    const URL = environment.API_HOST;\r\n    // let fields = [];\r\n    const form = {}\r\n    this.fields.map(x=> {\r\n      form[x.code] = x.value\r\n    })    \r\n    form['vehicle_id'] = this.vehicle_id;\r\n    form['pms'] = this.pms_kms;\r\n    // fields['vehicle_id'] = this.vehicle_id\r\n    // fields['pms'] = this.pms_kms;\r\n\r\n    try{\r\n      const res = await axios.put(`${URL}/pms/${this.vehicle_id}/${this.pms_kms}`, form, config)\r\n      await loading.dismiss();\r\n\r\n      const alert = await this.alertController.create({\r\n        header: 'Success',\r\n        message: res.data.message,\r\n        buttons: ['OK'] \r\n      })\r\n      await this.storage.set('data', res.data.data)\r\n      await alert.present();\r\n\r\n      this.navCtrl.back();\r\n    }catch(e){\r\n      console.log(e)\r\n      await loading.dismiss();\r\n\r\n\r\n      const alert = await this.alertController.create({\r\n        header: 'Alert',\r\n        message: e.response.data.message,\r\n        buttons: ['OK'] \r\n      })\r\n      await alert.present();\r\n\r\n    }\r\n  }\r\n\r\n\r\n\r\n}\r\n","export default \".md .centered-p {\\n  text-align: center;\\n  margin-left: -25%;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBtcy5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxrQkFBQTtFQUNBLGlCQUFBO0FBQ0oiLCJmaWxlIjoicG1zLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5tZCAuY2VudGVyZWQtcCB7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICBtYXJnaW4tbGVmdDogLTI1JVxyXG4gIH0iXX0= */\";","export default \"<ion-header class=\\\"ion-no-border\\\">\\r\\n  <ion-toolbar color=\\\"primary\\\">\\r\\n    <ion-title>\\r\\n      <p class=\\\"centered-p\\\">PMS</p>\\r\\n    </ion-title>\\r\\n\\r\\n    <ion-buttons slot=\\\"start\\\">\\r\\n      <ion-back-button defaultHref=\\\"/home\\\" name=\\\"arrow-back-outline\\\"></ion-back-button>\\r\\n    </ion-buttons>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content>\\r\\n  <!-- <ion-item>\\r\\n    <ion-label><strong>First 1000km</strong></ion-label>\\r\\n  </ion-item>\\r\\n  <ion-item  *ngIf =\\\"show('break_system')\\\">\\r\\n    <ion-label position=\\\"floating\\\">Break System</ion-label>\\r\\n    <ion-textarea autogrow></ion-textarea>\\r\\n  </ion-item>\\r\\n  <ion-item *ngIf =\\\"show('engine')\\\">\\r\\n    <ion-label position=\\\"floating\\\">Engine</ion-label>\\r\\n    <ion-textarea autogrow></ion-textarea>\\r\\n  </ion-item>\\r\\n  <ion-item *ngIf =\\\"show('oil')\\\">\\r\\n    <ion-label position=\\\"floating\\\">Oil</ion-label>\\r\\n    <ion-textarea auto-grow></ion-textarea>\\r\\n  </ion-item>\\r\\n  <ion-item *ngIf =\\\"show('filters')\\\">\\r\\n    <ion-label position=\\\"floating\\\">Filters</ion-label>\\r\\n    <ion-textarea autogrow></ion-textarea>\\r\\n  </ion-item>\\r\\n  <ion-item *ngIf =\\\"show('washer_fluid')\\\">\\r\\n    <ion-label position=\\\"floating\\\">Washer Fluid</ion-label>\\r\\n    <ion-textarea autogrow></ion-textarea>\\r\\n  </ion-item>\\r\\n  <ion-item *ngIf =\\\"show('engine_coolant')\\\">\\r\\n    <ion-label position=\\\"floating\\\">Engine Coolant</ion-label>\\r\\n    <ion-textarea autogrow></ion-textarea>\\r\\n  </ion-item> -->\\r\\n  <ion-item *ngFor=\\\"let field of fields\\\" >\\r\\n    \\r\\n    <!-- <ion-label *ngIf=\\\"field.code!='date'\\\">{{field.label}}</ion-label>\\r\\n    <ion-textarea autogrow [(ngModel)]=\\\"field.value\\\" *ngIf=\\\"field.code!='date'\\\"></ion-textarea> -->\\r\\n    <ion-checkbox slot=\\\"start\\\" [(ngModel)]=\\\"field.value\\\"  *ngIf=\\\"field.code!='date'\\\"></ion-checkbox>\\r\\n\\r\\n    <ion-label>{{field.label}}</ion-label>\\r\\n\\r\\n    <ion-label *ngIf=\\\"field.code=='date'\\\">{{field.label}}</ion-label>\\r\\n    <ion-datetime autogrow  [(ngModel)]=\\\"field.value\\\" *ngIf=\\\"field.code=='date'\\\"></ion-datetime>\\r\\n    \\r\\n  </ion-item>\\r\\n\\r\\n  <!-- <ion-list *ngFor=\\\"let field of fields\\\"></ion-list> -->\\r\\n  <ion-item *ngIf =\\\"show('amount')\\\">\\r\\n    <ion-label>Cost</ion-label>\\r\\n    <ion-input placeholder=\\\"0.00\\\" inputmode=\\\"decimal\\\" [(ngModel)]=\\\"field.amount\\\" name=\\\"amount\\\"></ion-input>\\r\\n  </ion-item>\\r\\n\\r\\n  <ion-item *ngIf =\\\"show('notes')\\\">\\r\\n    <ion-label>Notes</ion-label>\\r\\n    <ion-textarea rows=\\\"6\\\" cols=\\\"20\\\" placeholder=\\\"Enter any notes here...\\\" ></ion-textarea>\\r\\n  </ion-item>\\r\\n\\r\\n  <ion-button type=\\\"submit\\\" color=\\\"warning\\\" expand=\\\"block\\\" (click)=\\\"submit()\\\">\\r\\n    <ion-label color=\\\"light\\\">Update</ion-label>\\r\\n\\r\\n  </ion-button>\\r\\n</ion-content>\\r\\n\";"],"sourceRoot":"webpack:///"}
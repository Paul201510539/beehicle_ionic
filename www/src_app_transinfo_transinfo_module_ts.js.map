{"version":3,"sources":["./src/app/transinfo/transinfo-routing.module.ts","./src/app/transinfo/transinfo.module.ts","./src/app/transinfo/transinfo.page.ts","./src/app/transinfo/transinfo.page.scss","./src/app/transinfo/transinfo.page.html"],"names":[],"mappings":"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","file":"src_app_transinfo_transinfo_module_ts.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { TransinfoPage } from './transinfo.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: TransinfoPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class TransinfoPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { TransinfoPageRoutingModule } from './transinfo-routing.module';\n\nimport { TransinfoPage } from './transinfo.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    TransinfoPageRoutingModule\n  ],\n  declarations: [TransinfoPage]\n})\nexport class TransinfoPageModule {}\n","import { Component, OnInit, ViewChild, ElementRef, NgZone } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\n\nimport { Geolocation } from '@ionic-native/geolocation/ngx';\nimport { NativeGeocoder, NativeGeocoderResult, NativeGeocoderOptions } from '@ionic-native/native-geocoder/ngx';\nimport { LoadingController, AlertController, NavController } from '@ionic/angular';\nimport axios from 'axios';\nimport { environment } from '../../../src/environments/environment';  \nimport { Storage } from '@ionic/storage-angular';\n\n\ndeclare var google;\n\n@Component({\n  selector: 'app-transinfo',\n  templateUrl: './transinfo.page.html',\n  styleUrls: ['./transinfo.page.scss'],\n})\nexport class TransinfoPage implements OnInit {\n\n  @ViewChild('map',  {static: false}) mapElement: ElementRef;\n  map: any;\n  address:string;\n  lat: string;\n  long: string;  \n  autocomplete: { input: string; };\n  autocompleteItems: any[];\n  location: Object;\n  placeid: any;\n  GoogleAutocomplete: any;\n  from : Object;\n  to: Object;\n  mode: string;\n  odometer: String;\n  transaction_id: Number;\n  vehicle_id: Number;\n  name: String;\n  transaction: Object;\n\n\n  constructor(\n    private geolocation: Geolocation,\n    private nativeGeocoder: NativeGeocoder,    \n    public zone: NgZone,\n    public loadingController: LoadingController, \n    public alertController: AlertController,\n    private storage: Storage,\n    private route : ActivatedRoute,\n    private navCtrl: NavController\n    \n  ) {\n    // this.GoogleAutocomplete = new google.maps.places.AutocompleteService();\n    // this.autocomplete = { input: '' };\n    // this.autocompleteItems = [];\n    // this.location = {\n    //   from: '',\n    //   to: ''\n    // },\n    // this.mode = '';\n    // this.odometer = '';\n    this.transaction_id = parseInt(this.route.snapshot.paramMap.get('transaction_id'));\n    this.vehicle_id = parseInt(this.route.snapshot.paramMap.get('vehicle_id'));\n    this.transaction = {\n      address_start: '',\n      address_end: '',\n      odometer_start:'',\n      odometer_end:'',\n      datetime : new Date().toISOString()\n    }\n    this.loadTransaction()\n  }\n   \n  async loadTransaction()\n  {\n\n    const sData = await this.storage.get(\"data\")\n    const transaction = sData.vehicles.find(x=> x.id == this.vehicle_id).travels.find(x=> x.id == this.transaction_id);\n    \n    this.transaction['address_start'] = transaction.address_start;\n    this.transaction['address_end'] = transaction.address_end;\n    this.transaction['odometer_start'] = transaction.odometer_start;\n    this.transaction['odometer_end'] = transaction.odometer_end;\n    this.transaction['datetime'] = new Date(transaction['datetime']).toISOString();\n    // console.log(this.vehicle_id, this.transaction_id);\n    // console.log(sData.vehicles.find(x=>x.id == this.vehicle_id));\n    // console.log(this.transaction['datetime']);\n    // this.transaction['datetime'] = new Date(this.transaction['datetime'])\n\n    console.log(this.transaction)\n  }\n  async loadTransactionOld()\n  {\n    const sData = await this.storage.get(\"data\")\n\n    this.transaction = sData.vehicles.find(x=>x.id == this.vehicle_id).transactions.find(x=>x.id == this.transaction_id);\n    \n    this.location['from']  =  this.transaction['from_address'];\n    this['from'] =  {\n      lat: this.transaction['from_lat'],\n      lng: this.transaction['from_lng']\n    }\n    console.log(this.transaction)\n    this.location['to']  =  this.transaction['to_address'];\n\n    this['to'] =  {\n      lat: this.transaction['to_lat'],\n      lng: this.transaction['to_lng']\n    }\n    this.name = this.transaction['name'];\n  }\n   //LOAD THE MAP ONINIT.\n   async ngOnInit() {\n    // this.loadMap();   \n    // const vehicles = await this.storage.get(\"vehicles\")\n    // console.log(vehicles);\n  }\n\n    //LOADING THE MAP HAS 2 PARTS.\n  loadMap() {\n    \n      //FIRST GET THE LOCATION FROM THE DEVICE.\n      this.geolocation.getCurrentPosition().then((resp) => {\n        let latLng = new google.maps.LatLng(resp.coords.latitude, resp.coords.longitude);\n        let mapOptions = {\n          center: latLng,\n          zoom: 15,\n          mapTypeId: google.maps.MapTypeId.ROADMAP\n        } \n\n         //LOAD THE MAP WITH THE PREVIOUS VALUES AS PARAMETERS.\n      this.getAddressFromCoords(resp.coords.latitude, resp.coords.longitude); \n      this.map = new google.maps.Map(this.mapElement.nativeElement, mapOptions); \n      this.map.addListener('tilesloaded', () => {\n        // console.log('accuracy',this.map, this.map.center.lat());\n        this.getAddressFromCoords(this.map.center.lat(), this.map.center.lng())\n        this.lat = this.map.center.lat()\n        this.long = this.map.center.lng()\n      }); \n    }).catch((error) => {\n      // console.log('Error getting location', error);\n    });\n  }\n\n  getAddressFromCoords(lattitude, longitude) {\n    // console.log(\"getAddressFromCoords \"+lattitude+\" \"+longitude);\n    let options: NativeGeocoderOptions = {\n      useLocale: true,\n      maxResults: 5    \n    }; \n    this.nativeGeocoder.reverseGeocode(lattitude, longitude, options)\n      .then((result: NativeGeocoderResult[]) => {\n        this.address = \"\";\n        let responseAddress = [];\n        for (let [key, value] of Object.entries(result[0])) {\n          if(value.length>0)\n          responseAddress.push(value); \n        }\n        responseAddress.reverse();\n        for (let value of responseAddress) {\n          this.address += value+\", \";\n        }\n        this.address = this.address.slice(0, -2);\n      })\n      .catch((error: any) =>{ \n        this.address = \"Address Not Available!\";\n      }); \n  }\n\n  //FUNCTION SHOWING THE COORDINATES OF THE POINT AT THE CENTER OF THE MAP\n  ShowCords(){\n    // alert('lat' +this.lat+', long'+this.long )\n  }\n  \n  //AUTOCOMPLETE, SIMPLY LOAD THE PLACE USING GOOGLE PREDICTIONS AND RETURNING THE ARRAY.\n  UpdateSearchResults( type :string ){\n    const input = this.location[type]\n    this.mode = type;\n    if (input== '') {\n      this.autocompleteItems = [];\n      return;\n    }\n    this.GoogleAutocomplete.getPlacePredictions({ input: input, componentRestrictions: {country: 'ph'}},\n    (predictions, status) => {\n      this.autocompleteItems = [];\n      this.zone.run(() => {\n        predictions.forEach((prediction) => {\n          this.autocompleteItems.push(prediction);\n        });\n      });\n    });\n\n  }\n  \n  //wE CALL THIS FROM EACH ITEM.\n  async SelectSearchResult(item) {\n    ///WE CAN CONFIGURE MORE COMPLEX FUNCTIONS SUCH AS UPLOAD DATA TO FIRESTORE OR LINK IT TO SOMETHING\n    const geocoder = new google.maps.Geocoder();\n    const {results} = await geocoder.geocode({placeId: item.place_id})\n\n    // console.log(results)\n    this[this.mode] = {\n      lat: results[0].geometry.location.lat(),\n      lng: results[0].geometry.location.lng(),\n    }\n    // console.log(item.place_id);\n    // alert(JSON.stringify(item))      \n    this.placeid = item.place_id\n    this.location[this.mode] = item.description;\n    this.autocompleteItems = [];\n    // console.log(this.autocompleteItems);\n    // this.GoTo();\n  }\n  \n  \n  //lET'S BE CLEAN! THIS WILL JUST CLEAN THE LIST WHEN WE CLOSE THE SEARCH BAR.\n  ClearAutocomplete(param:string){\n    this.autocompleteItems = []\n    this.autocomplete.input = ''\n\n    this[param] =undefined\n  }\n \n  //sIMPLE EXAMPLE TO OPEN AN URL WITH THE PLACEID AS PARAMETER.\n  GoTo(){\n    return window.location.href = 'https://www.google.com/maps/search/?api=1&query=Google&query_place_id='+this.placeid;\n  }\n\n  async submit(){\n\n    if(this.from== undefined || this.to == undefined || this.odometer=='' || this.name == '')\n    {\n      const alert = await this.alertController.create({\n        header: 'Alert',\n        message: 'Please fill all fields',\n        buttons: ['OK'] \n      })\n      await alert.present();\n      return;\n    }\n    this.from['address'] = this.location['from'];\n    this.to['address'] = this.location['to'];\n    const form = {\n      from: this.from,\n      to: this.to,\n      odometer: this.odometer,\n      // vehicle_id: this.vehicle_id,\n      name: this.name\n    }\n\n    // console.log(form)\n    const token = await this.storage.get('access_token');\n\n    const config = {\n      headers: {\n        'Access-Control-Allow-Origin': '*', \n        'Authorization': `Bearer ${token}`\n      }\n    };\n    const URL = `${environment.API_HOST}/transaction`;\n\n    const loading = await this.loadingController.create({message: 'Please wait'})\n    await loading.present()\n\n    try{\n      \n      let {data} = await axios.post(URL, form, config);\n      let sData =  await this.storage.get(\"data\")\n      // sData.vehicles.find(x => x.id == this.vehicle_id).transactions.push(data.data);\n      await this.storage.set('data', sData)\n      await loading.dismiss();\n      const alert = await this.alertController.create({\n        header: 'Success',\n        message: 'Transaction Added',\n        buttons: ['OK'] \n      })\n      await alert.present();\n      this.navCtrl.back();      \n    }catch(error){\n      await loading.dismiss();\n      const alert = await this.alertController.create({\n        header: 'Alert',\n        message: 'Error',\n        buttons: ['OK'] \n      })\n      await alert.present();\n    }\n  }\n  \n}\n","export default \".md .centered-p {\\n  text-align: center;\\n  margin-left: -25%;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRyYW5zaW5mby5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxrQkFBQTtFQUNBLGlCQUFBO0FBQ0oiLCJmaWxlIjoidHJhbnNpbmZvLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5tZCAuY2VudGVyZWQtcCB7XG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgIG1hcmdpbi1sZWZ0OiAtMjUlXG4gIH0iXX0= */\";","export default \"<ion-header>\\n  <ion-toolbar color=\\\"primary\\\">\\n    <ion-title class=\\\"ion-text-center\\\">\\n      <p class=\\\"centered-p\\\">Transaction</p>\\n    </ion-title>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button defaultHref=\\\"/translist\\\" name=\\\"arrow-back-outline\\\"></ion-back-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n\\n  \\n    \\n    <!-- <ion-searchbar [(ngModel)]=\\\"autocomplete.input\\\" debounce = \\\"500\\\" (ionChange)=\\\"UpdateSearchResults('from')\\\" placeholder=\\\"From\\\"\\n      (ionClear)=\\\"ClearAutocomplete()\\\"></ion-searchbar>\\n    <ion-searchbar [(ngModel)]=\\\"autocomplete.input\\\" debounce = \\\"500\\\" (ionChange)=\\\"UpdateSearchResults('to')\\\" placeholder=\\\"To\\\"\\n      (ionClear)=\\\"ClearAutocomplete()\\\"></ion-searchbar> -->\\n    <!-- <ion-searchbar [(ngModel)]=\\\"location.from\\\" debounce = \\\"500\\\" (ionChange)=\\\"UpdateSearchResults('from')\\\" placeholder=\\\"From\\\"\\n      (ionClear)=\\\"ClearAutocomplete('from')\\\"></ion-searchbar>\\n    <ion-searchbar [(ngModel)]=\\\"location.to\\\" debounce = \\\"500\\\" (ionChange)=\\\"UpdateSearchResults('to')\\\" placeholder=\\\"To\\\"\\n      (ionClear)=\\\"ClearAutocomplete('to')\\\"></ion-searchbar> -->\\n  \\n<!-- \\n  <ion-list [hidden]=\\\"autocompleteItems.length == 0\\\">\\n    <ion-item *ngFor=\\\"let item of autocompleteItems\\\" tappable (click)=\\\"SelectSearchResult(item)\\\">\\n      {{ item.description }}\\n    </ion-item>\\n  </ion-list> -->\\n\\n  <ion-row>\\n    <!-- <ion-col size=\\\"6\\\">\\n      <ion-text>Google & Ionic Map</ion-text>\\n    </ion-col> -->\\n    <!-- <ion-toolbar>\\n      <ion-button style=\\\"background:#FFFFFF\\\" (click)=\\\"loadMap()\\\" shape=\\\"round\\\" fill=\\\"outline\\\">\\n        <ion-icon slot=\\\"secondary\\\" name=\\\"locate\\\"></ion-icon>\\n        Where i am\\n      </ion-button>\\n    </ion-toolbar>  -->\\n    \\n  </ion-row>\\n</ion-header>\\n<ion-content>\\n  <!-- <ion-input [(ngModel)] = \\\"odometer\\\" placeholder=\\\"odometer\\\"></ion-input>\\n  <ion-button (click) = \\\"submit()\\\" color=\\\"light\\\">Submit</ion-button> -->\\n\\n  <!-- \\n    \\n    <ion-fab-button (click)=\\\"ShowCords()\\\" ion-fab color=\\\"tertiary\\\">\\n      <ion-icon name=\\\"information-circle-outline\\\"></ion-icon>\\n    </ion-fab-button>\\n  </ion-fab>\\n  <div class=\\\"map-wrapper\\\" style=\\\"height: 100%;\\\">\\n    <div id=\\\"map_center\\\">\\n      <ion-icon name=\\\"pin\\\" size=\\\"large\\\" color=\\\"danger\\\"></ion-icon>\\n    </div>\\n    <div #map id=\\\"map\\\" style=\\\"height: 100%;\\\"></div>\\n  </div> -->\\n\\n  <ion-item>\\n    <ion-label position=\\\"floating\\\">Starting point</ion-label>\\n    <ion-input [(ngModel)]='transaction.address_start' ></ion-input>\\n  </ion-item>\\n  <ion-item>\\n    <ion-label position=\\\"floating\\\">Starting odometer</ion-label>\\n    <ion-input [(ngModel)]='transaction.odometer_start'></ion-input>\\n  </ion-item>\\n  <ion-item>\\n    <ion-label position=\\\"floating\\\">Destination</ion-label>\\n    <ion-input [(ngModel)]='transaction.address_end'></ion-input>\\n  </ion-item>\\n  <ion-item>\\n    <ion-label position=\\\"floating\\\">Succeeding Odometer</ion-label>\\n    <ion-input [(ngModel)]='transaction.odometer_end'></ion-input>\\n  </ion-item>\\n  \\n  <ion-item>Date</ion-item>\\n<ion-item>\\n  <ion-datetime  presentation=\\\"time-date\\\" [(ngModel)]=\\\"transaction.datetime\\\">Date</ion-datetime>\\n</ion-item>\\n\\n<!-- <ion-button slot=\\\"\\\" (click)=\\\"submit()\\\" color=\\\"warning\\\" expand=\\\"block\\\">Submit\\n  <ion-icon slot=\\\"end\\\" name=\\\"add\\\"></ion-icon>\\n</ion-button> -->\\n\\n  \\n</ion-content>\";"],"sourceRoot":"webpack:///"}
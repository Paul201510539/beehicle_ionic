{"version":3,"sources":["./src/app/trans/trans-routing.module.ts","./src/app/trans/trans.module.ts","./src/app/trans/trans.page.ts","./src/app/trans/trans.page.scss","./src/app/trans/trans.page.html"],"names":[],"mappings":"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","file":"src_app_trans_trans_module_ts.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { TransPage } from './trans.page';\n// import { GoogleMap } from '@capacitor/google-maps';\n\n// const apiKey = 'AIzaSyCimAQEHfarjsP_GqBWzFYDeaIBiMftfmA';\n\n// const mapRef = document.getElementById('map');\n\n// const newMap = await GoogleMap.create({\n//   id: 'my-map', // Unique identifier for this map instance\n//   element: mapRef, // reference to the capacitor-google-map element\n//   apiKey: apiKey, // Your Google Maps API Key\n//   config: {\n//     center: {\n//       // The initial position to be rendered by the map\n//       lat: 33.6,\n//       lng: -117.9,\n//     },\n//     zoom: 8, // The initial zoom level to be rendered by the map\n//   },\n// });\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: TransPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class TransPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { TransPageRoutingModule } from './trans-routing.module';\n\nimport { TransPage } from './trans.page';\n\nimport { CUSTOM_ELEMENTS_SCHEMA } from '@angular/core';\n\n@NgModule({\n  // schemas: [CUSTOM_ELEMENTS_SCHEMA],\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ReactiveFormsModule,\n    TransPageRoutingModule\n  ],\n  declarations: [TransPage]\n})\nexport class TransPageModule {}\n","import { Component, OnInit, ViewChild, ElementRef, NgZone } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\n\nimport { Geolocation } from '@ionic-native/geolocation/ngx';\nimport { NativeGeocoder, NativeGeocoderResult, NativeGeocoderOptions } from '@ionic-native/native-geocoder/ngx';\nimport { LoadingController, AlertController, NavController } from '@ionic/angular';\nimport axios from 'axios';\nimport { environment } from '../../../src/environments/environment';  \nimport { Storage } from '@ionic/storage-angular';\n\n\ndeclare var google;\n\n\n@Component({\n  selector: 'app-trans',\n  templateUrl: './trans.page.html',\n  styleUrls: ['./trans.page.scss'],\n})\nexport class TransPage implements OnInit {\n\n  @ViewChild('map',  {static: false}) mapElement: ElementRef;\n  map: any;\n  address:string;\n  lat: string;\n  long: string;  \n  autocomplete: { input: string; };\n  autocompleteItems: any[];\n  location: Object;\n  placeid: any;\n  GoogleAutocomplete: any;\n  from : string;\n  to: Object;\n  mode: string;\n  odometer: String;\n  vehicle_id: String;\n  name: String;\n\n  // new data\n  address_start: String;\n  address_end: String;\n  odometer_end: any;\n  odometer_start: any;\n  datetime: String;\n  errors : Array<Object>\n\n\n  constructor(\n    private geolocation: Geolocation,\n    private nativeGeocoder: NativeGeocoder,    \n    public zone: NgZone,\n    public loadingController: LoadingController, \n    public alertController: AlertController,\n    private storage: Storage,\n    private route : ActivatedRoute,\n    private navCtrl: NavController\n    \n  ) {\n    this.GoogleAutocomplete = new google.maps.places.AutocompleteService();\n    this.autocomplete = { input: '' };\n    this.autocompleteItems = [];\n    this.location = {\n      from: '',\n      to: ''\n    },\n    this.mode = '';\n    this.odometer = '';\n    this.vehicle_id = this.route.snapshot.paramMap.get('id');\n    this.name = '';\n\n    this.address_start = '';\n    this.address_end = '';\n    this.odometer_start = '';\n    this.odometer_end = '';\n    // this.datetime = '1994-12-15T13:47'\n    this.datetime = new Date().toISOString();\n    this.errors = [];\n  }\n   \n\n  \n   //LOAD THE MAP ONINIT.\n   async ngOnInit() {\n    // this.loadMap();   \n    const vehicles = await this.storage.get(\"vehicles\")\n    console.log(vehicles);\n    const sData = await this.storage.get(\"data\")\n    this.vehicle_id = this.route.snapshot.paramMap.get('id');\n    const vehicle = sData.vehicles.find(x => x.id == this.vehicle_id);\n    this.odometer_start = vehicle.last_odometer\n  }\n\n    //LOADING THE MAP HAS 2 PARTS.\n    loadMap() {\n    \n      //FIRST GET THE LOCATION FROM THE DEVICE.\n      this.geolocation.getCurrentPosition().then((resp) => {\n        let latLng = new google.maps.LatLng(resp.coords.latitude, resp.coords.longitude);\n        let mapOptions = {\n          center: latLng,\n          zoom: 15,\n          mapTypeId: google.maps.MapTypeId.ROADMAP\n        } \n\n         //LOAD THE MAP WITH THE PREVIOUS VALUES AS PARAMETERS.\n      this.getAddressFromCoords(resp.coords.latitude, resp.coords.longitude); \n      this.map = new google.maps.Map(this.mapElement.nativeElement, mapOptions); \n      this.map.addListener('tilesloaded', () => {\n        console.log('accuracy',this.map, this.map.center.lat());\n        this.getAddressFromCoords(this.map.center.lat(), this.map.center.lng())\n        this.lat = this.map.center.lat()\n        this.long = this.map.center.lng()\n      }); \n    }).catch((error) => {\n      console.log('Error getting location', error);\n    });\n  }\n\n  getAddressFromCoords(lattitude, longitude) {\n    console.log(\"getAddressFromCoords \"+lattitude+\" \"+longitude);\n    let options: NativeGeocoderOptions = {\n      useLocale: true,\n      maxResults: 5    \n    }; \n    this.nativeGeocoder.reverseGeocode(lattitude, longitude, options)\n      .then((result: NativeGeocoderResult[]) => {\n        this.address = \"\";\n        let responseAddress = [];\n        for (let [key, value] of Object.entries(result[0])) {\n          if(value.length>0)\n          responseAddress.push(value); \n        }\n        responseAddress.reverse();\n        for (let value of responseAddress) {\n          this.address += value+\", \";\n        }\n        this.address = this.address.slice(0, -2);\n      })\n      .catch((error: any) =>{ \n        this.address = \"Address Not Available!\";\n      }); \n  }\n\n  //FUNCTION SHOWING THE COORDINATES OF THE POINT AT THE CENTER OF THE MAP\n  ShowCords(){\n    // alert('lat' +this.lat+', long'+this.long )\n  }\n  \n  //AUTOCOMPLETE, SIMPLY LOAD THE PLACE USING GOOGLE PREDICTIONS AND RETURNING THE ARRAY.\n  UpdateSearchResults( type :string ){\n    const input = this.location[type]\n    this.mode = type;\n    if (input== '') {\n      this.autocompleteItems = [];\n      return;\n    }\n    this.GoogleAutocomplete.getPlacePredictions({ input: input, componentRestrictions: {country: 'ph'}},\n    (predictions, status) => {\n      this.autocompleteItems = [];\n      this.zone.run(() => {\n        predictions.forEach((prediction) => {\n          this.autocompleteItems.push(prediction);\n        });\n      });\n    });\n\n  }\n  \n  //wE CALL THIS FROM EACH ITEM.\n  async SelectSearchResult(item) {\n    ///WE CAN CONFIGURE MORE COMPLEX FUNCTIONS SUCH AS UPLOAD DATA TO FIRESTORE OR LINK IT TO SOMETHING\n    const geocoder = new google.maps.Geocoder();\n    const {results} = await geocoder.geocode({placeId: item.place_id})\n\n    console.log(results)\n    this[this.mode] = {\n      lat: results[0].geometry.location.lat(),\n      lng: results[0].geometry.location.lng(),\n    }\n    // console.log(item.place_id);\n    // alert(JSON.stringify(item))      \n    this.placeid = item.place_id\n    this.location[this.mode] = item.description;\n    this.autocompleteItems = [];\n    console.log(this.autocompleteItems);\n    // this.GoTo();\n  }\n  \n  \n  //lET'S BE CLEAN! THIS WILL JUST CLEAN THE LIST WHEN WE CLOSE THE SEARCH BAR.\n  ClearAutocomplete(param:string){\n    this.autocompleteItems = []\n    this.autocomplete.input = ''\n\n    this[param] =undefined\n  }\n \n  //sIMPLE EXAMPLE TO OPEN AN URL WITH THE PLACEID AS PARAMETER.\n  GoTo(){\n    return window.location.href = 'https://www.google.com/maps/search/?api=1&query=Google&query_place_id='+this.placeid;\n  }\n\n  async submitOld(){\n\n    if(this.from== undefined || this.to == undefined || this.odometer=='' || this.name == '')\n    {\n      const alert = await this.alertController.create({\n        header: 'Alert',\n        message: 'Please fill all fields',\n        buttons: ['OK'] \n      })\n      await alert.present();\n      return;\n    }\n    this.from['address'] = this.location['from'];\n    this.to['address'] = this.location['to'];\n    const form = {\n      from: this.from,\n      to: this.to,\n      odometer: this.odometer,\n      vehicle_id: this.vehicle_id,\n      name: this.name\n    }\n\n    console.log(form)\n    const token = await this.storage.get('access_token');\n\n    const config = {\n      headers: {\n        'Access-Control-Allow-Origin': '*', \n        'Authorization': `Bearer ${token}`\n      }\n    };\n    const URL = `${environment.API_HOST}/transaction`;\n\n    const loading = await this.loadingController.create({message: 'Please wait'})\n    await loading.present()\n\n    try{\n      \n      let {data} = await axios.post(URL, form, config);\n      let sData =  await this.storage.get(\"data\")\n      sData.vehicles.find(x => x.id == this.vehicle_id).transactions.push(data.data);\n      await this.storage.set('data', sData)\n      await loading.dismiss();\n      const alert = await this.alertController.create({\n        header: 'Success',\n        message: 'Transaction Added',\n        buttons: ['OK'] \n      })\n      await alert.present();\n      this.navCtrl.back();      \n    }catch(error){\n      await loading.dismiss();\n      const alert = await this.alertController.create({\n        header: 'Alert',\n        message: 'Error',\n        buttons: ['OK'] \n      })\n      await alert.present();\n    }\n  }\n  \n  hasError(field){\n    return this.errors.hasOwnProperty(field);\n  }\n\n  async submit()\n  {\n\n    const loading = await this.loadingController.create({message: 'Please wait'})\n    await loading.present()\n\n    const form = {\n      address_start: this.address_start,\n      address_end: this.address_end,\n      odometer_start: this.odometer_start,\n      odometer_end: this.odometer_end,\n      datetime: this.datetime,\n      vehicle_id: this.vehicle_id\n    }\n\n    try {\n      const token = await this.storage.get('access_token');\n  \n      const config = {\n        headers: {\n          'Access-Control-Allow-Origin': '*', \n          'Authorization': `Bearer ${token}`\n        }\n      };\n      const URL = `${environment.API_HOST}/travels`;\n      const response = await axios.post(URL, form, config);\n      await this.storage.set('data', response.data.data)\n\n      loading.dismiss()\n\n      const alert = await this.alertController.create({\n        header: 'Success',\n        message: response.data.message,\n        buttons: ['OK'] \n      })\n      \n      await alert.present();\n      this.navCtrl.back();      \n\n    } catch (error) {\n      loading.dismiss()\n      this.errors = error.response.data.data;\n            const alert = await this.alertController.create({\n        header: 'Failed',\n        message: 'Please check values',\n        buttons: ['OK'] \n      })\n      await alert.present();\n    }\n  }\n\n  travelled(){\n    if(this.odometer_start != \"\" && this.odometer_end !=\"\"){\n      const start = parseInt(this.odometer_start);\n      const end = parseInt(this.odometer_end);\n\n      return 'Total Traveled: '+(end - start).toLocaleString()  + ' km';\n      // return parseInt(thisodometer_end) - parseInt(this.odometer_start)\n    }\n\n    return \"Total Traveled: 0 km\";\n  }\n}\n\n      \n","export default \".md .centered-p {\\n  text-align: center;\\n  margin-left: -25%;\\n}\\n\\ncapacitor-google-map {\\n  display: inline-block;\\n  width: 275px;\\n  height: 400px;\\n}\\n\\n#map_canvas {\\n  width: 90%;\\n  height: 80%;\\n  border: 1px solid red;\\n}\\n\\n#address {\\n  padding: 10px;\\n  font-size: 18px;\\n  font-weight: bold;\\n}\\n\\n#map {\\n  width: 100%;\\n  height: 100px;\\n}\\n\\n.map-wrapper {\\n  position: relative;\\n}\\n\\n.map-wrapper #map_center {\\n  position: absolute;\\n  z-index: 99;\\n  height: 40px;\\n  width: 40px;\\n  top: 50%;\\n  left: 50%;\\n  margin-left: -21px;\\n  margin-top: -41px;\\n}\\n\\n.map-wrapper .date-border {\\n  --border-top-width: 2px;\\n  --border-end-width: 3px;\\n  --border-bottom-width: 2px;\\n  --border-start-width: 6px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRyYW5zLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLGtCQUFBO0VBQ0EsaUJBQUE7QUFDSjs7QUFFRTtFQUNFLHFCQUFBO0VBQ0EsWUFBQTtFQUNBLGFBQUE7QUFDSjs7QUFFRTtFQUNFLFVBQUE7RUFDQSxXQUFBO0VBQ0EscUJBQUE7QUFDSjs7QUFHRTtFQUNFLGFBQUE7RUFDQSxlQUFBO0VBQ0EsaUJBQUE7QUFBSjs7QUFHRTtFQUNFLFdBQUE7RUFDQSxhQUFBO0FBQUo7O0FBR0U7RUFDRSxrQkFBQTtBQUFKOztBQUVJO0VBQ0Usa0JBQUE7RUFDQSxXQUFBO0VBQ0EsWUFBQTtFQUNBLFdBQUE7RUFDQSxRQUFBO0VBQ0EsU0FBQTtFQUNBLGtCQUFBO0VBQ0EsaUJBQUE7QUFBTjs7QUFHRTtFQUVFLHVCQUFBO0VBQ0EsdUJBQUE7RUFDQSwwQkFBQTtFQUNBLHlCQUFBO0FBRkoiLCJmaWxlIjoidHJhbnMucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLm1kIC5jZW50ZXJlZC1wIHtcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgbWFyZ2luLWxlZnQ6IC0yNSVcbiAgfVxuXG4gIGNhcGFjaXRvci1nb29nbGUtbWFwIHtcbiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgd2lkdGg6IDI3NXB4O1xuICAgIGhlaWdodDogNDAwcHg7XG4gIH1cblxuICAjbWFwX2NhbnZhcyB7XG4gICAgd2lkdGg6IDkwJTtcbiAgICBoZWlnaHQ6IDgwJTtcbiAgICBib3JkZXI6IDFweCBzb2xpZCByZWQ7XG4gIH1cbiAgIFxuICAgXG4gICNhZGRyZXNzIHtcbiAgICBwYWRkaW5nOiAxMHB4O1xuICAgIGZvbnQtc2l6ZTogMThweDtcbiAgICBmb250LXdlaWdodDogYm9sZDtcbiAgfVxuICAgXG4gICNtYXAge1xuICAgIHdpZHRoOiAxMDAlO1xuICAgIGhlaWdodDogMTAwcHg7XG4gIH1cbiAgIFxuICAubWFwLXdyYXBwZXIge1xuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgIFxuICAgICNtYXBfY2VudGVyIHtcbiAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgIHotaW5kZXg6IDk5O1xuICAgICAgaGVpZ2h0OiA0MHB4O1xuICAgICAgd2lkdGg6IDQwcHg7XG4gICAgICB0b3A6IDUwJTtcbiAgICAgIGxlZnQ6IDUwJTtcbiAgICAgIG1hcmdpbi1sZWZ0OiAtMjFweDtcbiAgICAgIG1hcmdpbi10b3A6IC00MXB4O1xuICAgIH1cblxuICAuZGF0ZS1ib3JkZXJ7XG5cbiAgICAtLWJvcmRlci10b3Atd2lkdGg6IDJweDtcbiAgICAtLWJvcmRlci1lbmQtd2lkdGg6IDNweDtcbiAgICAtLWJvcmRlci1ib3R0b20td2lkdGg6IDJweDtcbiAgICAtLWJvcmRlci1zdGFydC13aWR0aDogNnB4O1xuXG59XG4gIH0iXX0= */\";","export default \"<ion-header>\\n  <ion-toolbar color=\\\"primary\\\">\\n    <ion-title class=\\\"ion-text-center\\\">\\n      <p class=\\\"centered-p\\\">Travel record</p>\\n    </ion-title>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button defaultHref=\\\"/translist\\\" name=\\\"arrow-back-outline\\\"></ion-back-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n\\n  <!-- <ion-toolbar>\\n    <ion-input placeholder=\\\"Transaction Name\\\" [(ngModel)] = 'name'></ion-input>\\n    <ion-searchbar [(ngModel)]=\\\"autocomplete.input\\\" debounce = \\\"500\\\" (ionChange)=\\\"UpdateSearchResults('from')\\\" placeholder=\\\"From\\\"\\n      (ionClear)=\\\"ClearAutocomplete()\\\"></ion-searchbar>\\n    <ion-searchbar [(ngModel)]=\\\"autocomplete.input\\\" debounce = \\\"500\\\" (ionChange)=\\\"UpdateSearchResults('to')\\\" placeholder=\\\"To\\\"\\n      (ionClear)=\\\"ClearAutocomplete()\\\"></ion-searchbar>\\n    <ion-searchbar [(ngModel)]=\\\"location.from\\\" debounce = \\\"500\\\" (ionChange)=\\\"UpdateSearchResults('from')\\\" placeholder=\\\"From\\\"\\n      (ionClear)=\\\"ClearAutocomplete('from')\\\"></ion-searchbar>\\n    <ion-searchbar [(ngModel)]=\\\"location.to\\\" debounce = \\\"500\\\" (ionChange)=\\\"UpdateSearchResults('to')\\\" placeholder=\\\"To\\\"\\n      (ionClear)=\\\"ClearAutocomplete('to')\\\"></ion-searchbar>\\n  </ion-toolbar> -->\\n\\n  <ion-list [hidden]=\\\"autocompleteItems.length == 0\\\">\\n    <ion-item *ngFor=\\\"let item of autocompleteItems\\\" tappable (click)=\\\"SelectSearchResult(item)\\\">\\n      {{ item.description }}\\n    </ion-item>\\n  </ion-list>\\n\\n  <ion-row>\\n    <!-- <ion-col size=\\\"6\\\">\\n      <ion-text>Google & Ionic Map</ion-text>\\n    </ion-col> -->\\n    <!-- <ion-toolbar>\\n      <ion-button style=\\\"background:#FFFFFF\\\" (click)=\\\"loadMap()\\\" shape=\\\"round\\\" fill=\\\"outline\\\">\\n        <ion-icon slot=\\\"secondary\\\" name=\\\"locate\\\"></ion-icon>\\n        Where i am\\n      </ion-button>\\n    </ion-toolbar>  -->\\n\\n  </ion-row>\\n</ion-header>\\n<ion-content>\\n\\n  <ion-item>\\n    <ion-label position=\\\"floating\\\">Starting Location</ion-label>\\n    <ion-input [(ngModel)] = \\\"address_start\\\"></ion-input>\\n    <ion-text class=\\\"error\\\" color=\\\"danger\\\" *ngIf=\\\"hasError('address_start')\\\">\\n      {{errors['address_start'][0]}}\\n    </ion-text>\\n  </ion-item>\\n\\n  <ion-item>\\n    <ion-label position=\\\"floating\\\">Start Odometer</ion-label>\\n\\n    <ion-input position=\\\"floating\\\" [(ngModel)]=\\\"odometer_start\\\" ></ion-input>\\n    <ion-text class=\\\"error\\\" color=\\\"danger\\\" *ngIf=\\\"hasError('odometer_start')\\\">\\n      {{errors['odometer_start'][0]}}\\n    </ion-text>\\n  </ion-item>\\n  \\n\\n  <ion-item>\\n    <ion-label position=\\\"floating\\\">Destination</ion-label>\\n    <ion-input [(ngModel)] = \\\"address_end\\\"></ion-input>\\n    <ion-text class=\\\"error\\\" color=\\\"danger\\\" *ngIf=\\\"hasError('address_end')\\\">\\n      {{errors['address_end'][0]}}\\n    </ion-text>\\n  </ion-item>\\n\\n\\n\\n  <ion-item>\\n    <ion-label position=\\\"floating\\\">Succeeding Odometer \\n    </ion-label>\\n\\n    <ion-input position=\\\"floating\\\" [(ngModel)]=\\\"odometer_end\\\" ></ion-input>\\n    <span item-end>{{travelled()}}</span>\\n    <ion-text class=\\\"error\\\" color=\\\"danger\\\" *ngIf=\\\"hasError('odometer_end')\\\">\\n      {{errors['odometer_end'][0]}}\\n    </ion-text>\\n  </ion-item>\\n\\n  <!-- <ion-item>\\n  <ion-label>Date of Travel</ion-label>\\n  <ion-datetime first-day-of-week=\\\"1\\\" ></ion-datetime>\\n</ion-item>\\n\\n  <ion-item>\\n    <ion-label>Time of Travel</ion-label>\\n    <ion-datetime displayFormat=\\\"h:mm A\\\"></ion-datetime>\\n  </ion-item> -->\\n  <ion-item>Date</ion-item>\\n  <ion-item>\\n    <ion-datetime  presentation=\\\"time-date\\\" [(ngModel)]=\\\"datetime\\\">Date</ion-datetime>\\n  </ion-item>\\n  <ion-item>\\n    <ion-text class=\\\"error\\\" color=\\\"danger\\\" *ngIf=\\\"hasError('datetime')\\\">\\n      {{errors['datetime'][0]}}\\n    </ion-text>\\n  </ion-item>\\n  <ion-button slot=\\\"\\\" (click)=\\\"submit()\\\" color=\\\"warning\\\" expand=\\\"block\\\">Submit\\n    <ion-icon slot=\\\"end\\\" name=\\\"add\\\"></ion-icon>\\n  </ion-button>\\n\\n\\n  <!-- <ion-fab vertical=\\\"bottom\\\" horizontal=\\\"start\\\" slot=\\\"fixed\\\">\\n    <ion-fab-button (click)=\\\"ShowCords()\\\" ion-fab color=\\\"tertiary\\\">\\n      <ion-icon name=\\\"information-circle-outline\\\"></ion-icon>\\n    </ion-fab-button>\\n  </ion-fab>\\n  <div class=\\\"map-wrapper\\\" style=\\\"height: 100%;\\\">\\n    <div id=\\\"map_center\\\">\\n      <ion-icon name=\\\"pin\\\" size=\\\"large\\\" color=\\\"danger\\\"></ion-icon>\\n    </div>\\n    <div #map id=\\\"map\\\" style=\\\"height: 100%;\\\"></div>\\n  </div> -->\\n</ion-content>\";"],"sourceRoot":"webpack:///"}
{"version":3,"sources":["./src/app/userupdate/userupdate-routing.module.ts","./src/app/userupdate/userupdate.module.ts","./src/app/userupdate/userupdate.page.ts","./src/app/userupdate/userupdate.page.scss","./src/app/userupdate/userupdate.page.html"],"names":[],"mappings":"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","file":"src_app_userupdate_userupdate_module_ts.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { UserupdatePage } from './userupdate.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: UserupdatePage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class UserupdatePageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { UserupdatePageRoutingModule } from './userupdate-routing.module';\r\n\r\nimport { UserupdatePage } from './userupdate.page';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    ReactiveFormsModule,\r\n    UserupdatePageRoutingModule\r\n  ],\r\n  declarations: [UserupdatePage]\r\n})\r\nexport class UserupdatePageModule {}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { FormBuilder } from '@angular/forms';\r\nimport { Storage } from '@ionic/storage-angular';\r\nimport { LoadingController, AlertController, NavController } from '@ionic/angular';\r\nimport { environment } from '../../../src/environments/environment';  \r\nimport axios from 'axios';\r\nimport { Router } from '@angular/router';\r\nimport { GlobalFooService } from '../services/profile.service';\r\n@Component({\r\n  selector: 'app-userupdate',\r\n  templateUrl: './userupdate.page.html',\r\n  styleUrls: ['./userupdate.page.scss'],\r\n})\r\nexport class UserupdatePage implements OnInit {\r\n  user: Object ;\r\n  // name: String;\r\n  // phone_number: String;\r\n  // email: String;\r\n  // birthday: Date;\r\n  // address: String;\r\n  constructor(\r\n    public loadingController: LoadingController, \r\n    public alertController: AlertController,\r\n    private storage: Storage,\r\n    private navCtrl: NavController,\r\n    private router: Router,\r\n    private globalFooService: GlobalFooService\r\n    \r\n  ) {\r\n    this.user = {\r\n      name: '',\r\n      phone_number: '',\r\n      email: '',\r\n      birthday : new Date().toISOString(),\r\n      address: ''\r\n    }\r\n    this.populate()\r\n  }\r\n\r\n\r\n  async ngOnInit() {\r\n    await this.populate();\r\n\r\n  }\r\n\r\n  async populate() {\r\n    const data  = await this.storage.get(\"data\")\r\n    this.user = {\r\n      name : data.name,\r\n      phone_number: data.phone_number,\r\n      email: data.email,\r\n      // birthday: '1994-11-26',\r\n      birthday: new Date(data.birthday).toISOString(),\r\n      address: data.address\r\n    }\r\n    console.log(data.name, new Date(data.birthday).toISOString());\r\n  }\r\n\r\n  async submit()\r\n  {\r\n    const loading = await this.loadingController.create({message: 'Please wait'})\r\n    await loading.present()\r\n\r\n    const form = this.user\r\n\r\n    try{\r\n      const token = await this.storage.get('access_token');\r\n      const data = await this.storage.get('data');\r\n  \r\n      const config = {\r\n        headers: {\r\n          'Access-Control-Allow-Origin': '*', \r\n          'Authorization': `Bearer ${token}`\r\n        }\r\n      };\r\n      const URL = `${environment.API_HOST}/profile/${data.id}`;\r\n      console.log(form);\r\n      const response = await axios.put(URL, form, config);\r\n\r\n      await this.storage.set('data', response.data.data)\r\n\r\n      loading.dismiss()\r\n\r\n      const alert = await this.alertController.create({\r\n        header: 'Success',\r\n        message: 'Profile Updated',\r\n        buttons: ['OK'] \r\n      })\r\n      \r\n      await alert.present();\r\n      this.globalFooService.publishSomeData({\r\n        data: response.data.data\r\n      })\r\n      // this.navCtrl.back();\r\n      this.router.navigate([\"home\"])\r\n\r\n    }catch(error){\r\n      loading.dismiss()\r\n\r\n      const alert = await this.alertController.create({\r\n        header: 'Error',\r\n        message: 'Please check fields',\r\n        buttons: ['OK'] \r\n      })\r\n      \r\n      await alert.present();\r\n    }\r\n  }\r\n}\r\n","export default \".profile {\\n  display: block;\\n  margin-left: auto;\\n  margin-right: auto;\\n  margin-top: 500px;\\n}\\n\\n.pname {\\n  font-size: 2em;\\n  width: 200px;\\n  text-align: center;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXJ1cGRhdGUucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksY0FBQTtFQUNBLGlCQUFBO0VBQ0Esa0JBQUE7RUFDQSxpQkFBQTtBQUNKOztBQUVBO0VBQ0ksY0FBQTtFQUNBLFlBQUE7RUFDQSxrQkFBQTtBQUNKIiwiZmlsZSI6InVzZXJ1cGRhdGUucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLnByb2ZpbGUge1xyXG4gICAgZGlzcGxheTogYmxvY2s7XHJcbiAgICBtYXJnaW4tbGVmdDogYXV0bztcclxuICAgIG1hcmdpbi1yaWdodDogYXV0bztcclxuICAgIG1hcmdpbi10b3A6IDUwMHB4O1xyXG59XHJcblxyXG4ucG5hbWV7XHJcbiAgICBmb250LXNpemU6IDJlbTtcclxuICAgIHdpZHRoOiAyMDBweDtcclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxufSJdfQ== */\";","export default \"<ion-header>\\r\\n  <ion-toolbar color=\\\"primary\\\">\\r\\n    <ion-title class=\\\"\\\">\\r\\n      Update Profile\\r\\n    </ion-title>\\r\\n\\r\\n    <ion-buttons slot=\\\"start\\\">\\r\\n      <ion-back-button name=\\\"arrow-back-outline\\\"></ion-back-button>\\r\\n    </ion-buttons>\\r\\n\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content>\\r\\n\\r\\n\\r\\n\\r\\n  <ion-content class=\\\"profile\\\">\\r\\n    <div align=\\\"center\\\">\\r\\n      <ion-avatar>\\r\\n        <img src=\\\"assets/imgs/pic1.jpg\\\" />\\r\\n        <ion-label><strong>\\r\\n            <h1>Aaron Paul</h1>\\r\\n          </strong></ion-label>\\r\\n      </ion-avatar>\\r\\n    </div>\\r\\n    <ion-item>\\r\\n      <ion-input placeholder=\\\"Name\\\" [(ngModel)] = \\\"user.name\\\"></ion-input>\\r\\n    </ion-item>\\r\\n\\r\\n\\r\\n    <ion-item>\\r\\n      <ion-input type=\\\"string\\\" placeholder=\\\"Phone Number\\\" [(ngModel)] = \\\"user.phone_number\\\"></ion-input>\\r\\n    </ion-item>\\r\\n\\r\\n\\r\\n    <ion-item>\\r\\n      <ion-input type=\\\"email\\\" placeholder=\\\"E-mail\\\" [(ngModel)] = \\\"user.email\\\"></ion-input>\\r\\n    </ion-item>\\r\\n<ion-item>Birthday</ion-item>\\r\\n    <ion-item>\\r\\n      <ion-datetime [(ngModel)]=\\\"user.birthday\\\" presentation=\\\"date\\\"></ion-datetime>\\r\\n      <!-- <ion-datetime ></ion-datetime> -->\\r\\n      <!-- <ion-input type=\\\"number\\\" placeholder=\\\"B\\\" [(ngModel)] = \\\"birthday\\\"></ion-input> -->\\r\\n    </ion-item>\\r\\n    \\r\\n    <ion-item>\\r\\n      <ion-input  placeholder=\\\"Address\\\" [(ngModel)] = \\\"user.address\\\"></ion-input>\\r\\n    </ion-item>\\r\\n\\r\\n    <!-- <ion-item>\\r\\n      <ion-label>birthday</ion-label>\\r\\n      <ion-datetime formControlName=\\\"bday\\\"\\r\\n        displayFormat=\\\"DD.MM.YYYY\\\"\\r\\n        presentation=\\\"date\\\"\\r\\n        [(ngModel)]=\\\"date\\\"\\r\\n      ></ion-datetime>\\r\\n    </ion-item> -->\\r\\n\\r\\n    \\r\\n\\r\\n    \\r\\n\\r\\n    \\r\\n    \\r\\n\\r\\n    <!-- <ion-list>\\r\\n      <ion-radio-group value=\\\"gender\\\">\\r\\n        <ion-list-header>\\r\\n          <ion-label>gender</ion-label>\\r\\n        </ion-list-header>\\r\\n\\r\\n        <ion-item>\\r\\n          <ion-label>Male</ion-label>\\r\\n          <ion-radio slot=\\\"start\\\" value=\\\"male\\\"></ion-radio>\\r\\n        </ion-item>\\r\\n\\r\\n        <ion-item>\\r\\n          <ion-label>Female</ion-label>\\r\\n          <ion-radio slot=\\\"start\\\" value=\\\"female\\\"></ion-radio>\\r\\n        </ion-item>\\r\\n      </ion-radio-group>\\r\\n    </ion-list> -->\\r\\n\\r\\n    \\r\\n\\r\\n\\r\\n    \\r\\n      <ion-button expand=\\\"block\\\" type=\\\"submit\\\" (click) = \\\"submit()\\\">\\r\\n        <!-- <ion-icon name=\\\"add\\\"></ion-icon> -->\\r\\n        Update\\r\\n      </ion-button>\\r\\n  \\r\\n\\r\\n  </ion-content>\";"],"sourceRoot":"webpack:///"}
{"version":3,"sources":["./src/app/userupdate/userupdate-routing.module.ts","./src/app/userupdate/userupdate.module.ts","./src/app/userupdate/userupdate.page.ts","./src/app/userupdate/userupdate.page.scss","./src/app/userupdate/userupdate.page.html"],"names":[],"mappings":"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","file":"src_app_userupdate_userupdate_module_ts.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { UserupdatePage } from './userupdate.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: UserupdatePage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class UserupdatePageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { UserupdatePageRoutingModule } from './userupdate-routing.module';\n\nimport { UserupdatePage } from './userupdate.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ReactiveFormsModule,\n    UserupdatePageRoutingModule\n  ],\n  declarations: [UserupdatePage]\n})\nexport class UserupdatePageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { FormBuilder } from '@angular/forms';\nimport { Storage } from '@ionic/storage-angular';\nimport { LoadingController, AlertController, NavController } from '@ionic/angular';\nimport { environment } from '../../../src/environments/environment';  \nimport axios from 'axios';\nimport { Router } from '@angular/router';\nimport { GlobalFooService } from '../services/profile.service';\n@Component({\n  selector: 'app-userupdate',\n  templateUrl: './userupdate.page.html',\n  styleUrls: ['./userupdate.page.scss'],\n})\nexport class UserupdatePage implements OnInit {\n  user: Object ;\n  // name: String;\n  // phone_number: String;\n  // email: String;\n  // birthday: Date;\n  // address: String;\n  constructor(\n    public loadingController: LoadingController, \n    public alertController: AlertController,\n    private storage: Storage,\n    private navCtrl: NavController,\n    private router: Router,\n    private globalFooService: GlobalFooService\n    \n  ) {\n    this.user = {\n      name: '',\n      phone_number: '',\n      email: '',\n      birthday : new Date().toISOString(),\n      address: ''\n    }\n    this.populate()\n  }\n\n\n  async ngOnInit() {\n    await this.populate();\n\n  }\n\n  async populate() {\n    const data  = await this.storage.get(\"data\")\n    this.user = {\n      name : data.name,\n      phone_number: data.phone_number,\n      email: data.email,\n      // birthday: '1994-11-26',\n      birthday: new Date(data.birthday).toISOString(),\n      address: data.address\n    }\n    console.log(data.name, new Date(data.birthday).toISOString());\n  }\n\n  async submit()\n  {\n    const loading = await this.loadingController.create({message: 'Please wait'})\n    await loading.present()\n\n    const form = this.user\n\n    try{\n      const token = await this.storage.get('access_token');\n      const data = await this.storage.get('data');\n  \n      const config = {\n        headers: {\n          'Access-Control-Allow-Origin': '*', \n          'Authorization': `Bearer ${token}`\n        }\n      };\n      const URL = `${environment.API_HOST}/profile/${data.id}`;\n      console.log(form);\n      const response = await axios.put(URL, form, config);\n\n      await this.storage.set('data', response.data.data)\n\n      loading.dismiss()\n\n      const alert = await this.alertController.create({\n        header: 'Success',\n        message: 'Profile Updated',\n        buttons: ['OK'] \n      })\n      \n      await alert.present();\n      this.globalFooService.publishSomeData({\n        data: response.data.data\n      })\n      // this.navCtrl.back();\n      this.router.navigate([\"home\"])\n\n    }catch(error){\n      loading.dismiss()\n\n      const alert = await this.alertController.create({\n        header: 'Error',\n        message: 'Please check fields',\n        buttons: ['OK'] \n      })\n      \n      await alert.present();\n    }\n  }\n}\n","export default \".profile {\\n  display: block;\\n  margin-left: auto;\\n  margin-right: auto;\\n  margin-top: 500px;\\n}\\n\\n.pname {\\n  font-size: 2em;\\n  width: 200px;\\n  text-align: center;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXJ1cGRhdGUucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksY0FBQTtFQUNBLGlCQUFBO0VBQ0Esa0JBQUE7RUFDQSxpQkFBQTtBQUNKOztBQUVBO0VBQ0ksY0FBQTtFQUNBLFlBQUE7RUFDQSxrQkFBQTtBQUNKIiwiZmlsZSI6InVzZXJ1cGRhdGUucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLnByb2ZpbGUge1xuICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgIG1hcmdpbi1sZWZ0OiBhdXRvO1xuICAgIG1hcmdpbi1yaWdodDogYXV0bztcbiAgICBtYXJnaW4tdG9wOiA1MDBweDtcbn1cblxuLnBuYW1le1xuICAgIGZvbnQtc2l6ZTogMmVtO1xuICAgIHdpZHRoOiAyMDBweDtcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG59Il19 */\";","export default \"<ion-header>\\n  <ion-toolbar color=\\\"primary\\\">\\n    <ion-title class=\\\"\\\">\\n      Update Profile\\n    </ion-title>\\n\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button name=\\\"arrow-back-outline\\\"></ion-back-button>\\n    </ion-buttons>\\n\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n\\n\\n\\n  <ion-content class=\\\"profile\\\">\\n    <div align=\\\"center\\\">\\n      <ion-avatar>\\n        <img src=\\\"assets/imgs/pic1.jpg\\\" />\\n        <ion-label><strong>\\n            <h1>Aaron Paul</h1>\\n          </strong></ion-label>\\n      </ion-avatar>\\n    </div>\\n    <ion-item>\\n      <ion-input placeholder=\\\"Name\\\" [(ngModel)] = \\\"user.name\\\"></ion-input>\\n    </ion-item>\\n\\n\\n    <ion-item>\\n      <ion-input type=\\\"string\\\" placeholder=\\\"Phone Number\\\" [(ngModel)] = \\\"user.phone_number\\\"></ion-input>\\n    </ion-item>\\n\\n\\n    <ion-item>\\n      <ion-input type=\\\"email\\\" placeholder=\\\"E-mail\\\" [(ngModel)] = \\\"user.email\\\"></ion-input>\\n    </ion-item>\\n<ion-item>Birthday</ion-item>\\n    <ion-item>\\n      <ion-datetime [(ngModel)]=\\\"user.birthday\\\" presentation=\\\"date\\\"></ion-datetime>\\n      <!-- <ion-datetime ></ion-datetime> -->\\n      <!-- <ion-input type=\\\"number\\\" placeholder=\\\"B\\\" [(ngModel)] = \\\"birthday\\\"></ion-input> -->\\n    </ion-item>\\n    \\n    <ion-item>\\n      <ion-input  placeholder=\\\"Address\\\" [(ngModel)] = \\\"user.address\\\"></ion-input>\\n    </ion-item>\\n\\n    <!-- <ion-item>\\n      <ion-label>birthday</ion-label>\\n      <ion-datetime formControlName=\\\"bday\\\"\\n        displayFormat=\\\"DD.MM.YYYY\\\"\\n        presentation=\\\"date\\\"\\n        [(ngModel)]=\\\"date\\\"\\n      ></ion-datetime>\\n    </ion-item> -->\\n\\n    \\n\\n    \\n\\n    \\n    \\n\\n    <!-- <ion-list>\\n      <ion-radio-group value=\\\"gender\\\">\\n        <ion-list-header>\\n          <ion-label>gender</ion-label>\\n        </ion-list-header>\\n\\n        <ion-item>\\n          <ion-label>Male</ion-label>\\n          <ion-radio slot=\\\"start\\\" value=\\\"male\\\"></ion-radio>\\n        </ion-item>\\n\\n        <ion-item>\\n          <ion-label>Female</ion-label>\\n          <ion-radio slot=\\\"start\\\" value=\\\"female\\\"></ion-radio>\\n        </ion-item>\\n      </ion-radio-group>\\n    </ion-list> -->\\n\\n    \\n\\n\\n    \\n      <ion-button expand=\\\"block\\\" type=\\\"submit\\\" (click) = \\\"submit()\\\">\\n        <!-- <ion-icon name=\\\"add\\\"></ion-icon> -->\\n        Update\\n      </ion-button>\\n  \\n\\n  </ion-content>\";"],"sourceRoot":"webpack:///"}